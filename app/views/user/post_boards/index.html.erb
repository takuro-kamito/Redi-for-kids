<div class="container mt-5">
  <h4><%= @community.name %>への投稿はこちら！</h4>

  <%= form_with(model: @post_board, url: user_community_post_boards_path(@community), local: true) do |form| %>
    <%= form.hidden_field :community_id, value: @community.id %>
    <%= form.hidden_field :user_id, value: current_user.id %>
    <%= form.text_area :body, size: "3x3", class: 'form-control' %>
    <%= form.submit "投稿", class: "btn btn-success mt-2" %>
    <%= link_to "コミュニティへ戻る", user_communities_path %>
  <% end %>
　<h3 class="mt-3 mb-3 text-center"><%= @community.name %>の投稿一覧</h3>
　　<% @post_boards.each_with_index do |post_board, index| %>
    <% if post_board.id != nil %>
      <div class="card">
        <div class="card-header">
          <div class="low">
            <%# コメントが奇数番目の場合は左寄せ、偶数番目の場合は右寄せ %>
            <div class="comment <%= index.odd? ? 'comment-left' : 'comment-right' %>">
              <!-- コメントの要素を枠内に配置 -->
              <div class="comment-container"> <!-- コメント全体を囲むコンテナ -->
                <div class="comment">
                  <div class="comment-icon">
                    <% if post_board.user.profile_image.attached? %>
                      <%= image_tag post_board.user.profile_image.variant(resize: "100x100") %>
                    <% end %>
                        </div>
　　　　　　　　　　　　　<div class="comment-content">
                            <div class="comment-info">
                            　<p class="comment-author"><%= post_board.user.name %>より：</p>
                              <p class="comment-date"><%= post_board.created_at.strftime("%Y年%m月%d日 %H時%M分") %></p>
                            </div>
                            <div class="comment-body">
                              <p><%= post_board.body %></p>
                            </div>
                          </div>
                        </div>
                      </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            <% end %>
          <% end %>
<style>

 .comment-container {
  display: flex; /* コメントを横並びにするために、親要素を flex コンテナにする */
  align-items: flex-start; /* コメントの縦位置を上端に揃える */
}

.comment {
  display: flex; /* アイコンとコメントを横並びにするために、コメント要素を flex コンテナにする */
  align-items: flex-start; /* アイコンとコメントの縦位置を上端に揃える */
}

.comment-icon {
  margin-right: 10px; /* アイコンとコメントの間に余白を追加 */
}

.comment-content {
  display: flex; /* 名前、時間、コメントを横並びにするために、コメント内容を flex コンテナにする */
  flex-direction: column; /* 名前、時間、コメントを縦並びにする */
}

.comment-info {
  display: flex; /* 名前と時間を横並びにするために、情報要素を flex コンテナにする */
}

.comment-body {
  margin-top: 5px; /* コメント本文の上に余白を追加 */
}
</style>
